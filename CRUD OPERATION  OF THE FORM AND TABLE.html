<!-- crud operations creat,read,update , edit ,delete -->


<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
<style>
    table
    {
        width:100%;
        border-collapse : collapse;
    }
    th,td
    {
        border:2px solid black;
        padding: 15px;
        text-align:center;
    }
</style>
</head>
<body>
    <center>
        <form onsubmit = "formsubmit()">
        <label>fullname:</label>
        <input type="text" id="name" name="name">
        <br>
    <br>
        <label>emailid:</label>
        <input type="text" id="email" name="email">
        <br><br>
        <label>salary:</label>       
        <input type="number" id="salary" name="salary">
        <br><br>
        <label>city:</label>
        <input type="text" id="city" name="city">
        <br><br>
        <input type="submit">
        </form>
        <br>
        <table id="employee">
            <thead>
                <tr>
                       <th>fullname</th>
                       <th>emailid</th>
                       <th>salary</th>
                       <th>city</th>
                       <th>actions</th>
                </tr>
            </thead>
            <tbody>

            </tbody>
        </table>
        </center>
<script> 

    let row=null


    function formsubmit()
    {
        event.preventDefault()
        let data = read()
        
     if(row==null)
     {
getdata(data)
     }
     else{
        updateData(data)
     }

     reset()
    }
    function read() 
        {
            let formdata={}
            formdata["name"]=document.getElementById("name").value
            formdata["email"]=document.getElementById("email").value
            formdata["salary"]=document.getElementById("salary").value
            formdata["city"]=document.getElementById("city").value
            return formdata
        }
        function getdata(data)
        {
            let table=document.getElementsByTagName("tbody")[0]//table is a varable name
            let row=table.insertRow(table.length)//insert value row is variablr name

            cell1=row.insertCell(0)
            cell1.innerHTML=data.name

            cell2 =row.insertCell(1)
            cell2.innerHTML=data.email

            cell3=row.insertCell(2)
            cell3.innerHTML=data.salary

            cell4=row.insertCell(3)
            cell4.innerHTML=data.city

            cell5=row.insertCell(4)
            cell5.innerHTML=`
            <button onclick="editData(this)"> edit </button> 
            <button onclick="deleteData(this)">delete</button>
            `                           //notation we have used(``)

        }
        function reset(){
            document.getElementById("name").value=""
            document.getElementById("email").value=""
            document.getElementById("salary").value=""
            document.getElementById("city").value=""
        }
function deleteData(td)
{
    row=td.parentElement.parentElement
    document.getElementById("employee").deleteRow(row.rowIndex)
}

function editData(td)
{
    row=td.parentElement.parentElement
    document.getElementById("name").value=row.cells[0].innerHTML
    document.getElementById("email").value=row.cells[1].innerHTML
    document.getElementById("salary").value=row.cells[2].innerHTML
    document.getElementById("city").value=row.cells[3].innerHTML
}

function updateData(data)
{
    row.cells[0].innerHTML=data.name
    row.cells[1].innerHTML=data.email
    row.cells[2].innerHTML=data.salary
    row.cells[3].innerHTML =data.city



}






</script>

        
    

































    
















</body>
</html>